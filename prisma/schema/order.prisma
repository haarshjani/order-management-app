enum OrderStatus {
  PENDING
  PREPARING
  OUT_FOR_DELIVERY
  DELIVERED
  CANCELLED
}

model Order {
  id           String      @id @default(cuid())
  customerName String
  address      String
  phone        String
  totalAmount  Decimal     @default(0)
  status       OrderStatus @default(PENDING) // Now uses the Enum type
  items        OrderItem[]
  createdAt    DateTime    @default(now())
  updatedAt    DateTime    @updatedAt

  @@index([status])
  @@index([createdAt])
}

model OrderItem {
  id         String   @id @default(cuid())
  order      Order    @relation(fields: [orderId], references: [id], onDelete: Cascade)
  orderId    String
  menuItem   MenuItem @relation(fields: [menuItemId], references: [id])
  menuItemId String
  quantity   Int
  unitPrice  Decimal  

  @@index([orderId])
}